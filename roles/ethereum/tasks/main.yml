---

# ethereum
# https://github.com/ethereum/go-ethereum/wiki/Installation-Instructions-for-Ubuntu

- name: add PPA
  become: true
  apt_repository: repo=ppa:ethereum/ethereum

- name: install go-etherium
  become: true
  apt:  pkg={{item}} state=latest install_recommends=yes
  with_items:
    - software-properties-common
    - ethereum
    - solc 

- name: install service file
  become: true
  template: 
    src:   geth.service
    dest:  /lib/systemd/system
    owner: root 
    group: root
    mode:  "a+r"
  notify: restart geth

- name: install npm packages
  npm:
    name: "{{item}}"
    global: yes
    state:  latest
  with_items:
    - ethereumjs-testrpc
    - ethereumjs-util
    - truffle
    - solgraph
    - coffee-script

